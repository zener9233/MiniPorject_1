<!DOCTYPE html><html lang="en"      xmlns:th="http://www.thymeleaf.org"><head>    <meta charset="UTF-8">    <meta http-equiv="X-UA-Compatible" content="IE=edge">    <meta name="viewport" content="width=device-width, initial-scale=1.0">    <link rel="preconnect" href="https://fonts.googleapis.com">    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>    <link href="https://fonts.googleapis.com/css2?family=Hi+Melody&family=Libre+Baskerville&family=Single+Day&family=Stylish&display=swap"          rel="stylesheet">    <title>myPage</title>    <script src="https://code.jquery.com/jquery-3.7.0.min.js"></script>    <style>        * {            margin: 0;            padding: 0;        }        a {            color: inherit; /* 현재 요소의 상속된 색상 사용 */            text-decoration: none; /* 밑줄 제거 */        }        body {            font-family: 'Stylish', sans-serif;        }        #banner {            width: 100%;            height: 55px;            background-color: orange;            display: flex;            align-items: center;        }        .bannerbutton {            width: 12%;            background-color: #eaa013;            height: 100%;            align-items: center;            text-align: center;            display: flex;            justify-content: center;            border: solid white 3px;            margin-right: 5px;            font-size: 19px;            color: #ffffff;            text-shadow: -1px 0 #000, 0 1px #000, 1px 0 #000, 0 -1px #000;        }        #content {            display: flex;            justify-content: center;        }        #chargebox {            width: 950px;            height: 600px;            background-color: #ffffff;            border: solid orange 3px;            display: flex;        }        .leftbanner {            width: 100px;            height: 40px;            background-color: #ffb571;            color: white;            border-radius: 2px;            text-align: center;            display: flex;            justify-content: center;            align-items: center;            margin-top: 4px;            border: solid #ff8d1c 1px;        }        #chargebox {            display: flex;            align-items: center;            justify-content: center;            border-radius: 8px;        }        #left {            width: 450px;            height: 500px;            border: solid #f6cc71 3px;            margin: 10px;            border-radius: 10px;            display: flex;            justify-content: center;            align-items: center;        }        #right {            width: 450px;            height: 500px;            border: solid #f6cc71 3px;            margin: 10px;            border-radius: 10px;            display: flex;            flex-direction: column;            justify-content: center;            align-items: center;        }        #back {            position: relative;            width: 100vw;            height: 94vh;            background-image: url('https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2Fs4RlP%2FbtskQjr1WRj%2FVGu2w6gF1Pm7qMg7SCUZt1%2Fimg.png');            background-color: rgba(255, 255, 255, 0.1); /* adjust opacity here */        }        table, th, td {            border: solid #f3cda9 1px;            /*border-collapse: collapse;*/            text-align: center;        }        table {            width: 300px;            height: 250px;        }        th {            background-color: rgba(252, 199, 137, 0.5);        }        #left table {            width: 400px;            height: 420px;        }        .profile-btn-cssR {            width: 40px;            height: 25px;            background: #fff;            margin-top: 10px;            border: 1px solid rgb(77, 77, 77);            border-radius: 10px;            font-weight: 500;            cursor: pointer;            display: flex;            align-items: center;            justify-content: center;            float: left;            margin-right: 10px;        }        .profile-btn-cssL {            width: 40px;            height: 25px;            background: #fff;            margin-top: 10px;            border: 1px solid rgb(77, 77, 77);            border-radius: 10px;            font-weight: 500;            cursor: pointer;            display: flex;            align-items: center;            justify-content: center;            float: right;            margin-left: 10px;        }        .profile-btn-cssR:hover {            background: rgba(252, 199, 137, 0.5);        }        .profile-btn-cssL:hover {            background: rgba(252, 199, 137, 0.5);        }        .profile-profile-picture {            display: flex;            flex-direction: column;            align-items: center;        }        .profile-profile-image {            width: 180px;            height: 180px;            border-radius: 30%;            /*overflow: hidden;*/            /* margin-bottom: 10px; */        }        #profile-profilePic {            width: 100%;            height: 100%;        }        #moveUserBtn{            display: inline-block;            padding: 5px 5px;            font-size: 14px;            border: none;            background-color: #ffcc00;            color: #fff;            border-radius: 20px;            text-decoration: none;            transition: background-color 0.3s ease;            cursor: pointer;        }        #moveUserBtn:hover{            background-color: #ff9900;        }        #logout {            cursor: pointer;            background-color: #ffcc00;            height: 20px;            width: 90px;            text-align: center;            display: flex;            justify-content: center;            align-items: center;            border-radius: 15px;            position: absolute;            right: 0;            font-size: 11px;            color: #333;            border: none;            transition: background-color 0.3s ease;        }        #logout:hover {            background-color: #ff9900;            color: #fff;        }    </style></head><body><div id="banner">    <div id="mingyupush" style="width: 24%"></div>    <div onclick="window.location.href='/home'" style="height: 100%">        <img id="logo"             src="https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FcdF9J4%2FbtskRufcTKP%2FmAHqe1WxB0eyLRqjxKR5kK%2Fimg.png"             style="height: 100%" alt="">    </div>    <div class="bannerbutton " id="myroom" style="background-color: rgba(255,209,190,0.81)"         onclick="window.location.href='/myPage'">마이룸    </div>    <div class="bannerbutton" id="purchase" onclick="window.location.href='/miniroom'">구매</div>    <div class="bannerbutton" id="charge" onclick="window.location.href='/cash'">충전</div>    <div class="logoutbox" style="position: absolute; top: 7px; right: 11px ">        <p style="margin-bottom: 3px;margin-top: 4px;font-size: 13px;            color: #5e5c5c;" th:text="${loginUser.userName} + '님 환영합니다'"></p>        <button id="logout" onclick="confirmLogout()">            로그아웃        </button>    </div></div><p style="font-size: 4px"></p><div style="background-color: #ea8a8a;height: 4px; margin-top: 4px"></div><!--여기부터 시작--><div id="back">    <!--    한줄 띄고-->    <div style="height: 50px"></div>    <div id="content">        <div>            <div class="leftbanner info" style="font-weight: bold" onclick="window.location.href='/myPage'">회원정보</div>            <div class="leftbanner myroom " onclick="window.location.href='/haha'"                 style="background-color: white;color: #c71a01;font-weight: bold">마이룸            </div>            <div class="leftbanner BGM" onclick="window.location.href='/myroombgm'"                 style="background-color: white;color: #c71a01;font-weight: bold">BGM            </div>        </div>        <div id="chargebox" style="flex-direction: column">            <div style="height: 10px;display: flex;position: absolute;top:15px;">                <p style="color: #d55706;font-size: 23px;font-weight: bold">회원정보</p>                <p style="color: #d55706;font-size: 23px;font-weight: bold;margin-left: 390px">유저리스트</p>            </div>            <div style="display: flex">                <div id="left">                    <table>                        <tr>                            <th>프로필사진</th>                            <td style="justify-content: center">                                <div class="profile-profile-picture">                                    <div class="profile-profile-image">                                        <img id="profile-profilePic" alt="Profile Picture"                                             th:src="@{'/uploads/' + ${profileImg}}"/>                                    </div>                                    <form action="/img" method="post" enctype="multipart/form-data">                                        <input type="file" id="profile-imageUpload" name="file" hidden/>                                        <div>                                            <div class="profile-btn-cssR" id="profile-changeProfilePicBtn">변 경</div>                                            <div class="profile-btn-cssL" type="" id="btnSave">저 장</div>                                        </div>                                    </form>                                </div>                            </td>                        </tr>                        <tr>                            <th>아이디</th>                            <td th:text="${loginUser.userName}"></td>                        </tr>                        <tr>                            <th>비밀번호</th>                            <td th:text="${loginUser.password}">비밀번호</td>                        </tr>                        <tr>                            <th>닉네임</th>                            <td th:text="${loginUser.userNickName} != null ? ${loginUser.userNickName} : '기본값'"></td>                        </tr>                        <tr>                            <th>성별</th>                            <td th:text="${loginUser.sex}"></td>                        </tr>                        <tr>                            <th>이메일</th>                            <td th:text="${loginUser.USER_EMAIL}"></td>                        </tr>                        <tr>                            <th>밤톨이갯수</th>                            <td>                                <img style="width: 20px"                                     src="https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2Fsc6Aq%2FbtskQR9PYhP%2FgQ6HFXtN7q9IfJgyUDDjZ0%2Fimg.png"                                     alt="">                                <span th:text="${loginUser.bamtori}"></span>                                <a id="toriConfirm" href="/cash">                                    <button style="background-color: #fcd6c2"> 충전</button>                                </a>                            </td>                        </tr>                    </table>                </div>                <script>                    $(document).ready(function () {                        let formData = new FormData();                        $("#profile-changeProfilePicBtn").on("click", function () {                            $("#profile-imageUpload").trigger("click");                        });                        $("#profile-imageUpload").on("change", function () {                            let file = this.files[0];                            if (file) {                                // FormData 객체 생성                                formData.append('file', file);  // 파일 추가                                const reader = new FileReader();                                reader.onload = function (event) {                                    $("#profile-profilePic").attr("src", event.target.result);                                };                                reader.readAsDataURL(file);                            }                        });                        $("#btnSave").on("click", () => {                            if (confirm("사진을 변경하시겠습니까?")) {                                $.ajax({                                    url: "/changeImg", // 여기에 실제 서버의 엔드포인트를 넣어야 합니다.                                    type: "POST",                                    data: formData,                                    processData: false,                                    contentType: false,                                    success: function (response) {                                        console.log(response);                                        // 추가적인 성공 처리 로직                                    },                                    error: function (jqXHR, textStatus, errorMessage) {                                        console.log(errorMessage);                                        // 추가적인 에러 처리 로직                                    }                                });                            } else return;                        })                    });                </script>                <div id="right">                    <a href="/ilchonList">                        <p style="color: #d55706;font-size: 18px;font-weight: bold;margin-left: 330px; cursor: pointer">                            일촌 목록</p>                    </a>                    <table id="ul-right" style="width: 400px; height:400px; text-align: center; margin-top: 20px;">                        <thead>                        <tr>                            <th>이름</th>                            <th>닉네임</th>                            <th>URL</th>                            <th>바로가기</th>                        </tr>                        </thead>                        <tbody>                        <tr th:each="user : ${userPage.content}">                            <td th:text="${user.userName}"></td>                            <td th:text="${user.userNickName}"></td>                            <td class="content-title-url" th:text="'https://' + ${user.userNickName} + '.helloWorld.com/'"></td>                            <td>                                <a th:href="@{/MiniMain-view(userId=${user.id})}" target="_blank"><button id="moveUserBtn">GO!</button></a>                            </td>                        </tr>                        </tbody>                    </table>                    <div>                        <a th:if="${userPage.hasPrevious()}" th:href="@{/myPage(size=${userPage.size}, page=${userPage.number -1})}">이전</a>                        <span th:unless="${userPage.hasPrevious()}">이전</span>                        <span th:text="${userPage.number + 1} + ' / ' + ${userPage.totalPages}"></span>                        <a th:if="${userPage.hasNext()}" th:href="@{/myPage(size=${userPage.size}, page=${userPage.number+1})}">다음</a>                        <span th:unless="${userPage.hasNext()}">다음</span>                    </div>                </div>                <script type="text/javascript">                    function openUserPage(userId) {                        window.open('/MiniMain-view?userId=' + userId, '_blank');                    }                </script>            </div>        </div>    </div></div></div></body><script>    let currentPage = 0;    let totalPages = 0;    function loadData(page) {        $.ajax({            url: '/helo?page=' + page,            type: 'get',            success: function (response) {                var content = response.item.content;                $("#ul-right").empty();                for (var i = 0; i < response.item.content.length; i++) {                    $("#ul-right").append('<li>' + response.item.content[i].name + " : " + response.item.content[i].nick + '</li>');                }                currentPage = page;                totalPages = response.item.totalPages;                $('#current-page').text(currentPage !== null ? currentPage + 1 : '');                $('#total-pages').text(totalPages !== null ? totalPages : '');                console.log(response)            },            error: function (err) {                console.log(err);            }        });    }    $(function () {        loadData(0);        $('#prev-page').click(function () {            console.log("qwe")            if (currentPage > 0) {                loadData(currentPage - 1);            }        });        $('#next-page').click(function () {            console.log("앞")            if (currentPage < totalPages - 1) {                loadData(currentPage + 1);            }        });    });    //    function confirmLogout() {        if (confirm("정말 로그아웃 하시겠습니까?")) {            // "Yes"를 선택한 경우 로그아웃을 수행하는 URL로 리다이렉트            window.location.href = "/logout";        } else {            // "No"를 선택한 경우 아무 동작도 수행하지 않음        }    }</script></html>